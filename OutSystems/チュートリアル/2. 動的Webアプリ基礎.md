# 動的Webアプリ
本章では、[前章](https://github.com/taijihagino/low-code-dev/blob/main/OutSystems/%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB/1.%20IDE%E3%81%A8%E9%9D%99%E7%9A%84Web%E3%82%A2%E3%83%95%E3%82%9A%E3%83%AA.md)で作成した静的Webアプリを動的Webアプリへ作り替えていきます。

動的Webアプリとは、ユーザーが画面上で行ったアクションに起因して何かしらの処理が実行されるWebアプリのことです。例えば、ボタンを押したらデータが送信される、入力した値が別の場所へ反映される、外部から取得したデータを画面に表示させる、などです。

## 入力フォームとローカル変数（Local Variable）
ここでは、インプットテキストフォームに入力した文字列が、画面の別の場所にリアルタイムに表示される処理を実装してみます。

１．ローカル変数を作成します。OutSystemsではローカル変数のことを（英語にしただけですが）Local Variableと呼びます。Service StudioのInterfaceタブから、「Home」を右クリックし「Add Local Variable」を選択します。

![Screenshot 2024-01-16 at 18 13 02](https://github.com/taijihagino/low-code-dev/assets/12064399/afbd066d-19df-422d-b359-4f9f68929834)

２．ローカル変数に任意の名前を付けます。デフォルトのままでも問題はありませんが、後で何に使う変数なのかが分かりやすい名前が良いでしょう。ここでは「ShowMeText」という変数名にしました。Data Typeは「Text」にします。

![Screenshot 2024-01-16 at 18 14 26](https://github.com/taijihagino/low-code-dev/assets/12064399/b170e2d8-96f5-47a0-80b4-644a9a50e4ff)
![Screenshot 2024-01-16 at 18 29 18](https://github.com/taijihagino/low-code-dev/assets/12064399/069c7fc9-7531-4fae-aa02-34e25aac7bfd)

３．静的Webの際にベタ書きしてた「Hello World」のTextを削除し、代わりに左ペインから「Input」を画面上にドラッグ＆ドロップで配置します。デフォルトでは画面横いっぱいのサイズになっているので、適宜リサイズしてください。

![Screenshot 2024-01-16 at 18 21 11](https://github.com/taijihagino/low-code-dev/assets/12064399/063f4ca2-3982-4d66-80b3-aaeeb61b64a3)

４．配置した「Input」にはプロパティとして「Variable」が必要です。まだ設定していないので、IDE上はエラーが表示されていると思います。

プロパティパネルの「Variable」に、先程Local Variableとして作成した「ShowMeText」を設定します。

![Screenshot 2024-01-16 at 18 27 25](https://github.com/taijihagino/low-code-dev/assets/12064399/3c139ccc-61a5-4921-b303-3aec9a6a078d)
![Screenshot 2024-01-16 at 18 27 54](https://github.com/taijihagino/low-code-dev/assets/12064399/a5541b15-5363-4177-954b-313b7c1abf85)

５．エラーは消えましたが、さらにInputへ入力した文字を画面上に表示するために、左ペインから「Expression」をドラッグ＆ドロップで配置します。場所はどこでも良いですが、ここではInputフォームの右隣にしました。

配置すると「Expression Value」ウィンドウが開くので、Home配下の「ShowMeText」をダブルクリックで設定し、最後に「Close」ボタンをクリックします。

![Screenshot 2024-01-16 at 18 39 54](https://github.com/taijihagino/low-code-dev/assets/12064399/fa54ada1-b6ea-419a-891e-33aa8374c835)

![Screenshot 2024-01-16 at 18 38 15](https://github.com/taijihagino/low-code-dev/assets/12064399/ec4d014f-4ba6-490e-9b3e-c5906b8eae5f)

６．IDE中央上部にある「Publish」ボタンでPublishし、画面を確認します。ブラウザに表示された画面で、Inputフィールドに文字を打ち込むと、そのままその右側へ表示されるのが確認できます。

これは、Inputに入力された値がLocal Variableへ格納され、ExpressionはLocal Variableから値を取得して画面に表示する、という処理が行われているからです。

![Screenshot 2024-01-16 at 18 45 05](https://github.com/taijihagino/low-code-dev/assets/12064399/eb7214f3-4758-4407-9fbf-1e5b9e6b7203)
